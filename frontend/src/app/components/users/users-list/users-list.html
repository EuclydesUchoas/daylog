<p-toast></p-toast>

<!-- responsiveLayout="scroll" -->
<!-- <p-table [value]="(users$ | async)!" [loading]="loading()" [paginator]="true" [rows]="10"> -->
<p-table [value]="users()" [loading]="loading()" [paginator]="true" [rows]="10">
  <ng-template pTemplate="header">
    <tr>
      <th>Nome</th>
      <th>Email</th>
      <th>Perfil</th>
      <!-- <th>Empresas</th> -->
      <th>Criado em</th>
      <th>Status</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-user>
    <tr>
      <td>{{ user.name }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.profileName }}</td>
      <!-- <td>{{ getCompaniesNames(user) }}</td> -->
      <td>{{ user.createdInfo.createdAt | date:'dd/MM/yyyy HH:mm' }}</td>
      <td>
        @if (user.deletedInfo?.isDeleted) {
          Deletado
        } 
        @else {
          Ativo
        }
        <!-- <span *ngIf="user.deletedInfo?.isDeleted; else active">Deletado</span> -->
        <ng-template #active>Ativo</ng-template>
      </td>
    </tr>
  </ng-template>
</p-table>
